---
layout: docs
page_title: Disks for VirtualBox Provider
description: |-
  Vagrant comes with support out of the box for VirtualBox, a free,
  cross-platform consumer virtualization product.
---

# VirtualBox

Vagrant currently only supports VirtualBox version 5.x and newer for configuring and attaching disks.

Because of how VirtualBox handles disk management, a Vagrant guest _must_ be powered off for any changes to be applied to a guest. If you make a configuration change with a guests disk, you will need to `vagrant reload` the guest for any changes to be applied.

When new disks are defined to be attached to a guest, Vagrant will attach disks to a particular storage controller based on the type of disk configured:

- For the `:disk` type, Vagrant will use the storage controller containing the boot disk. It will also create the disk if necessary.

- For the `:dvd` type, Vagrant will attach the disk to the storage controller that comes earliest in the machine's boot order. For example, if a VM has a SATA controller and an IDE controller, the disk will be attached to the IDE controller.

Vagrant will not be able to configure disks of a given type if the associated storage controller does not exist. In this case, you may use [provider-specific customizations](/vagrant/docs/providers/virtualbox/configuration#vboxmanage-customizations) to add a required storage controller.

Storage controllers have different limits for the number of disks that can be attached. Attempting to configure more than the maximum number of disks for a storage controller type will result in a Vagrant error.

## Usage

For more information on how to use VirtualBox to configure disks for a guest, refer to the [Disks examples](/vagrant/docs/define/disks#examples) and [configuration](/vagrant/docs/vagrantfile/vm/disk) guide.

## `provider_config` options

Currently, there are no additional options supported for the `provider_config` option.

## Common issues and troubleshooting

This section lists some common issues people run into with Vagrant and VirtualBox as well as solutions for those issues.

### Are my disks attached?

A handy way to figure out what disks are attached (or not attached) to your guest is to open up the VirtualBox GUI and select the guest. When selecting a guest on the GUI, it should open more information about the guest, including storage information. Here you should see a list of disks attached to your guest.

### How many disks can I attach?

Vagrant attaches all new disks defined to guest's primary controller. As of VirtualBox 6.1.x, storage controllers have the following limits to the number of disks that are supported per guest:

- IDE Controllers: 4
- SATA Controllers: 30
- SCSI Controllers: 16

Therefore if your primary disk is attached to a SATA Controller and you try to define and attach more than 30, it will result in an error. This number includes the primary disk for the guest.

DVD attachments are subject to the same limits. Optical disk attachments will be attached to the storage controller with the highest boot priority (usually the IDE controller).

### Resize VMDK format disks

VMDK disks cannot be resized in their current state, so Vagrant will automatically convert these disks to VDI, resize the disk, and convert it back to its original format. Many Vagrant boxes default to using the VMDK disk format, so resizing disks for many users will require Vagrant to convert these disks. Generally, this will be transparent to the user. However if Vagrant crashes or if a user interrupts Vagrant during the cloning process, there is a chance that you might lose your data.

### Apply Vagrant disk configuration changes to guests

Due to how VirtualBox works, you must reload your guest for any disk config changes to be applied. So if you update your Vagrantfile to update or even remove disks, make sure to `vagrant reload` your guests for these changes to be applied.
