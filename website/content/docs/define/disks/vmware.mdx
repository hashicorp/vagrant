---
layout: docs
page_title: Disks for VMware Provider
description: |-
  HashiCorp develops an official VMware Fusion and VMware Workstation provider
  for Vagrant. This provider allows Vagrant to power VMware based machines and
  take advantage of the improved stability and performance that VMware software
  offers.
---

# VMware

Because of how VMware handles disk management, a Vagrant guest _must_ be powered off for any changes to be applied to a guest. If you make a configuration change with a guests disk, you will need to `vagrant reload` the guest for any changes to be applied.

## Usage

For more information on how to use VMware to configure disks for a guest, refer to the [Disks examples](/vagrant/docs/define/disks#examples) and [configuration](/vagrant/docs/vagrantfile/vm/disk) guide for more information.

## `provider_config` options

Vagrant supports some additional VMWware specific options for specifying disk.

- `bus_type` (string) - Sets the bus type when attaching the disk. Possible options are `sata`, `ide`, and `scsi`. Defaults to `scsi`
- `adapter_type` (string) - Sets the adapter type when creating the disk. Possible options are `ide`, `buslogic` and `lsilogic`. Defaults to `lsilogic`

## Common issues and troubleshooting

This section lists some common issues people run into with Vagrant and VMware as well as solutions for those issues.

### Are my disks attached?

A handy way to figure out what disks are attached (or not attached) to your guest is to open up the VMware GUI and open up the guest settings and selecting the disks options.

### How many disks can I attach?

Vagrant will attempt to attach all disks specified in the Vagrantfile. If more than four `ide` type disks are specified, only the first four will be attached.

### Apply Vagrant disk configuration changes to guests

Due to how VMware works, you must reload your guest for any disk config changes to be applied. So if you update your Vagrantfile to update or even remove disks, make sure to `vagrant reload` your guests for these changes to be applied. Vagrant will not decrease the size of a disk.

### Disk functionality with snapshots

If snapshots exist for a VM, disk functionality will be limited. Vagrant will return an error for any actions that are limited due to the existence of snapshots. 

In order to restore functionality you must [remove the snapshots](/vagrant/docs/cli/snapshot). 

```shell-session
$ vagrant snapshot delete
```

Use the following command to delete all snapshots for a VMware backed VM. Once a snapshot is deleted, it can not be restored.

```shell-session
$ vagrant cap provider delete_all_snapshots --target <target vm name>
```
